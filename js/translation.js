// SYSTEME DE TRADUCTION
// ============================
var currentLang = localStorage.getItem('virus_lang') || 'fr';

var TR = {
  fr: {
    // UI Boutons
    back: '\u25C4 RETOUR',
    settings: 'PARAMETRES',
    confirm: 'CONFIRMER',
    cancel: 'ANNULER',
    save: 'SAUVER',
    quit: 'QUITTER',
    play: 'C\'EST PARTI !',
    launch: 'LANCER LA PARTIE',
    create: 'CREER LA PARTIE',
    join: 'REJOINDRE',
    refresh: 'ACTUALISER',
    equip: 'EQUIPER',
    equipped: 'EQUIPE',
    buy: 'ACHETER',
    skinsTab: 'SKINS',
    close: 'FERMER',
    gotIt: 'COMPRIS',
    skip: 'SKIP',
    cont: 'CONTINUER',
    mainMenu: 'MENU PRINCIPAL',
    add: 'AJOUTER',
    accept: 'ACCEPTER',
    refuse: 'REFUSER',
    start: 'DEMARRER',
    callMeeting: 'APPELER UNE REUNION',
    doTask: 'FAIRE LA TACHE',
    kill: 'KILL',
    report: 'SIGNALER',
    investigate: 'ENQUETER',
    cameras: 'CAMERAS',
    confirmSkin: 'CONFIRMER LE SKIN',
    deleteAccount: 'SUPPRIMER MON COMPTE',

    // Titres / Labels
    createAccount: 'CREER TON COMPTE',
    chooseNickname: 'Choisis un pseudo pour jouer',
    account: 'COMPTE',
    pseudo: 'PSEUDO',
    skin: 'SKIN',
    shop: 'BOUTIQUE',
    rules: 'REGLES DU JEU',
    online: 'ONLINE',
    offline: 'HORS LIGNE',
    offlineLabel: 'Hors ligne',
    onlineLabel: 'En ligne',
    requestsLabel: 'Demandes',
    config: 'CONFIGURATION',
    gameSettings: 'PARAMETRES DE LA PARTIE',
    missions: 'MISSIONS',
    emergencyMeeting: 'REUNION D\'URGENCE',
    fittingRoom: 'CABINE D\'ESSAYAGE',
    friends: 'AMIS',
    playersHeader: 'JOUEURS',
    chat: 'CHAT',
    waitingRoom: 'SALLE D\'ATTENTE',
    newGame: 'NOUVELLE PARTIE',
    waitingGames: 'PARTIES EN ATTENTE',
    skinsAndAccs: 'SKINS & ACCESSOIRES',
    changeSkinTitle: 'CHANGEZ DE SKIN',
    chooseSkin: 'Choisis ton skin !',
    gameName: 'NOM DE LA PARTIE',
    maxPlayers: 'NOMBRE MAX DE JOUEURS',
    nbVillains: 'NOMBRE DE MECHANTS (VIRUS)',
    nbPlayers: 'NOMBRE DE JOUEURS',
    nbVirus: 'NOMBRE DE VIRUS',
    journalist: 'JOURNALISTE',
    fanaticNeutral: 'FANATIQUE (NEUTRE)',
    spyNeutral: 'ESPION (NEUTRE)',
    joinOrCreate: 'Rejoindre ou creer une partie',
    playWithBots: 'Jouer avec des bots',
    skinsAccs: 'Skins et accessoires',
    inviteFriends: 'Invitez vos amis a rejoindre',
    or: 'OU',
    joinExisting: 'Rejoindre une partie existante',
    createDesc: 'Creez votre propre partie et invitez vos amis, ou rejoignez une partie existante.',
    createGame: 'CREER UNE PARTIE',
    findGame: 'TROUVER UNE PARTIE',
    waiting: 'En attente...',
    hostOnly: '(Host uniquement)',
    waitingForHost: 'En attente du host pour demarrer...',
    savedAuto: 'Les changements sont sauvegardes automatiquement.<br>VIRUS v0.1 - ALPHA',
    noGamesWaiting: 'Aucune partie en attente pour le moment. Creez-en une depuis le menu online !',
    game: 'PARTIE',
    villains: 'MECHANTS',
    noPendingRequests: 'Aucune demande en attente.',
    securityCams: 'CAMERAS DE SECURITE',

    // Roles
    roleVirus: 'VIRUS',
    roleInnocent: 'INNOCENT',
    roleJournalist: 'JOURNALISTE',
    roleFanatic: 'FANATIQUE',
    roleSpy: 'ESPION',
    oneJournalist: '1 JOURNALISTE',
    zeroJournalist: '0 JOURNALISTE',
    oneFanatic: '1 FANATIQUE',
    zeroFanatic: '0 FANATIQUE',
    oneSpy: '1 ESPION',
    zeroSpy: '0 ESPION',

    // Notifications
    pseudoTaken: 'Ce pseudo est deja utilise ! Choisis-en un autre.',
    pseudoTakenKeep: 'Ce pseudo est deja utilise ! Ton pseudo reste : {0}',
    need7For2Virus: 'Il faut au moins 7 joueurs pour avoir 2 virus !',
    need10For3Virus: 'Il faut au moins 10 joueurs pour avoir 3 virus !',
    joinedVirus: 'Tu as rejoint le camp des VIRUS ! Tu peux voir les virus.',
    joinedInnocent: 'Tu as rejoint le camp des INNOCENTS ! Complete tes missions.',
    notEnoughJournalist: 'Il faut au moins 7 joueurs pour ajouter un journaliste !',
    notEnoughFanatic: 'Il faut au moins 7 joueurs pour ajouter un fanatique !',
    notEnoughSpy: 'Il faut au moins 7 joueurs pour ajouter un espion !',
    'notif.musicPurchased': 'Musique "{0}" achetee !',
    youAreVirusAllies: 'Tu es VIRUS ! Tes allies : {0}',
    youAreOnlyVirus: 'Tu es le seul VIRUS ! Infecte tout le monde sans te faire reperer.',
    youAreJournalist: 'Tu es le JOURNALISTE ! Tu as {0} enquete(s) disponible(s).',
    youAreFanatic: 'Tu es le FANATIQUE ! Si tu te fais eliminer, la partie se termine et tu gagnes !',
    youAreSpy: 'Tu es l\'ESPION ! Choisis ton camp...',
    youAreInnocent: 'Tu es INNOCENT. Complete tes missions et survis !',
    need4Players: 'Il faut au moins 4 joueurs pour demarrer une partie !',
    gameAlreadyStarted: 'Cette partie est deja en cours !',
    gameFull: 'MAX',
    partyDeleted: 'La partie a ete supprimee !',
    playerJoined: '{0} a rejoint la partie',
    playerLeft: '{0} a quitte la partie',
    newHost: '{0} est le nouveau host',
    joinBtn: 'REJOINDRE',
    virusAdjusted: 'Nombre de virus ajuste a {0} (pas assez de joueurs pour {1})',
    youAreTheVirus: 'Tu es le VIRUS ! Infecte tout le monde sans te faire reperer.',
    ghostsCantMeet: 'Les fantomes ne peuvent pas appeler de reunion !',
    waitBeforeMeeting: 'Tu dois attendre avant de relancer une reunion !',
    emergencyMeetingNotif: 'Reunion d\'urgence !',
    useInfoWisely: 'Utilise cette information a bon escient !',
    ghostsCantVote: 'Les fantomes ne peuvent pas voter !',
    wasTheFanatic: '{0} etait le FANATIQUE ! La partie est terminee !',
    youEliminatedFanatic: 'Tu as ete elimine en tant que FANATIQUE ! Tu as gagne !',
    playerIs: '{0} est {1} !',
    allInvestigationsUsed: 'Tu as utilise toutes tes enquetes !',
    youInfected: 'Tu as infecte {0}...',
    playerDied: '{0} est mort !',
    bodyReported: 'Cadavre de {0} signale ! Reunion d\'urgence !',
    virusInfectedYou: 'Un virus t\'a infecte ! Tu mourras dans 5 secondes...',
    diedAsFanatic: 'Tu es mort en tant que FANATIQUE ! Tu as gagne !',
    youDiedGhost: 'Tu es mort ! Tu es maintenant un fantome.',
    foundBodyOf: '{0} a trouve le cadavre de {1} !',
    ghostsCantTalk: 'Les fantomes ne peuvent pas parler !',
    ghostTag: 'FANTOME',
    missionDone: 'Mission accomplie : {0}',
    allMissionsComplete: 'Toutes les missions sont completes !',
    youFinishedMissions: 'Tu as fini toutes tes missions !',
    enterPseudo: 'Entre un pseudo !',
    connecting: 'Connexion en cours...',
    cantAddSelf: 'Tu ne peux pas t\'ajouter toi-meme !',
    alreadyFriend: 'Deja dans ta liste d\'amis !',
    pseudoNotFound: 'Rien trouve ! Ce pseudo n\'existe pas.',
    requestAlreadySent: 'Demande deja envoyee !',
    requestSentTo: 'Demande envoyee a {0} !',
    connectionError: 'Erreur de connexion',
    nowYourFriend: '{0} est maintenant ton ami !',
    requestRefused: 'Demande refusee.',
    friendRequestFrom: 'Demande d\'ami de {0}',
    mustBeInGame: 'Tu dois etre dans une partie pour inviter !',
    inviteSentTo: 'Invitation envoyee a {0} !',

    // Reunion / Meeting
    meetDead: 'Morts : {0}',
    meetYouAreGhost: 'Tu es un fantome. Tu ne peux pas voter.',
    meetEmergency: 'Reunion d\'urgence ! Cliquez sur un joueur pour voter ou SKIP.',
    meetVoted: 'a vote !',
    meetSkipped: 'a passe son vote.',
    meetBotVoted: 'a vote.',
    meetNoElim: 'Aucune elimination. La partie continue.',
    meetWasVirus: '{0} etait un VIRUS !',
    meetWasJournalist: '{0} etait le JOURNALISTE...',
    meetWasFanatic: '{0} etait le FANATIQUE ! Il a gagne ! La partie est terminee !',
    meetWasSpy: '{0} etait l\'ESPION !',
    meetWasInnocent: '{0} etait un INNOCENT...',
    meetNobodyElim: 'Personne n\'a ete elimine.',
    meetWasVirusRole: 'C\'etait un VIRUS !',
    meetWasJournalistRole: 'C\'etait le JOURNALISTE...',
    meetWasFanaticRole: 'C\'etait le FANATIQUE !',
    meetWasSpyRole: 'C\'etait l\'ESPION !',
    meetWasInnocentRole: 'C\'etait un INNOCENT...',

    // Victoire
    virusVictory: 'VICTOIRE DES VIRUS',
    virusVictoryDesc: 'Les virus ont pris le controle du centre commercial ! Il y a autant de virus que de survivants...',
    fanaticVictory: 'VICTOIRE DU FANATIQUE',
    innocentsVictory: 'VICTOIRE DES INNOCENTS',
    missionsVictoryDesc: 'Toutes les missions ont ete completees ! Les innocents et journalistes ont sauve le centre commercial !',
    virusEliminatedDesc: 'Tous les virus ont ete elimines ! Le centre commercial est sauve !',
    missionsLabel: 'MISSIONS : {0}/{1} ({2}%)',
    youWin: 'VICTOIRE !',
    youLose: 'DEFAITE...',
    total: 'Total : {0} joueurs',
    innocentsCount: 'Innocents : {0}',
    virusCount: 'Virus : {0}',
    journalistCount: 'Journaliste : {0}',
    fanaticCount: 'Fanatique : {0}',
    spyCount: 'Espion : {0}',

    // Espion
    spyChooseTitle: 'TU ES L\'ESPION',
    spyChooseDesc: 'Choisis ton camp ! Tu gagneras avec le camp que tu choisis.',
    spyBtnInnocent: 'INNOCENT',
    spyBtnVirus: 'VIRUS',

    // Validation / Alert
    vChoosePseudo: 'Choisis un pseudo !',
    vPseudoTooShort: 'Pseudo trop court (2 caracteres minimum) !',
    vPseudoEmpty: 'Le pseudo ne peut pas etre vide !',
    vPseudoShort: 'Pseudo trop court !',
    vDeleteAccount: 'Supprimer ton compte ? Ton pseudo, tes parties, ton or et tes skins seront effaces!',
    vGiveGameName: 'Donne un nom a ta partie !',

    // Placeholders
    phPseudo: 'Entre ton pseudo...',
    phNewPseudo: 'Nouveau pseudo...',
    phGameName: 'Ex: Ma super partie',
    phChat: 'Ecrire ici...',
    phChatReunion: 'Discutez ici...',
    phFriendSearch: 'Pseudo du joueur...',

    // Boutiques du mall
    shopFashion: 'BOUTIQUE MODE',
    shopPharmacy: 'PHARMACIE',
    shopBookstore: 'LIBRAIRIE',
    shopGym: 'SALLE DE SPORT',
    shopJewelry: 'BIJOUTERIE',
    shopTech: 'TECH & ELECTRONIQUE',
    shopCinema: 'CINEMA MULTIPLEX',
    shopRestaurant: 'RESTAURANT',
    shopSupermarket: 'SUPERMARCHE GEANT',
    shopVideoGames: 'MAGASIN DE JEUX VIDEO',
    shopGarden: 'JARDINERIE',
    shopFurniture: 'MEUBLES & DECO',
    shopSportGoods: 'ARTICLES DE SPORT',
    shopPerfume: 'PARFUMERIE',
    shopTravel: 'AGENCE DE VOYAGE',
    shopSecurity: 'POSTE DE SECURITE',
    shopCafe: 'CAFE DU CENTRE',
    shopNewsstand: 'KIOSQUE A JOURNAUX',
    shopOptician: 'OPTICIEN',
    shopArcade: 'SALLE D\'ARCADE',
    shopBowling: 'BOWLING',
    shopPetStore: 'ANIMALERIE',
    shopPastry: 'PATISSERIE',
    shopOrganic: 'BIO & NATURE',
    shopTea: 'SALON DE THE',
    shopFoodCourt: 'FOOD COURT',
    shopToiletSouth: 'TOILETTES SUD',
    shopToiletSE: 'TOILETTES SUD-EST',
    shopToiletNorth: 'TOILETTES NORD',

    // Mall
    mainEntranceSouth: 'ENTREE PRINCIPALE SUD',
    entranceNorth: 'ENTREE NORD',
    exitWest: 'SORTIE OUEST',
    exitEast: 'SORTIE EST',
    parkingA: 'PARKING A',
    parkingB: 'PARKING B',
    centralFountain: 'FONTAINE CENTRALE',
    entrance: 'ENTREE',
    drinks: 'BOISSONS',

    // Regles
    rule1Title: 'Le Virus se propage',
    rule1Desc: 'Un joueur est infecte et doit contaminer les autres dans le centre commercial.',
    rule2Title: 'Accomplir les missions',
    rule2Desc: 'Les sains doivent completer leurs taches dans les boutiques pour gagner.',
    rule3Title: 'Voter pour eliminer',
    rule3Desc: 'Signalez les suspects ! Votez ensemble pour demasquer le virus.',
    rule4Title: 'Survivre ou infecter',
    rule4Desc: 'Sains : terminez les missions ou trouvez le virus. Virus : infectez tout le monde !',
    rule5Title: 'Devenir un fantome',
    rule5Desc: 'Si vous etes infecte, apres 5 secondes vous devenez un fantome invisible.',
    rule6Title: 'Le Journaliste enquete',
    rule6Desc: 'Le journaliste peut enqueter sur les joueurs pour decouvrir s\'ils sont virus ou non.',
    rule7Title: 'Le Fanatique (neutre)',
    rule7Desc: 'Son but : se faire eliminer ! S\'il meurt, la partie se termine et il gagne avec l\'espion.',
    rule8Title: 'L\'Espion (neutre)',
    rule8Desc: 'Il choisit un camp au debut. S\'il choisit virus, il les voit mais ne peut pas etre tue par eux. Il gagne avec son camp. Si le fanatique gagne, l\'espion gagne aussi !',

    // Divers
    inProgress: 'EN COURS...',
    system: 'SYSTEME',
    player: 'Joueur',
    noGame: '0 partie disponible',
    nPlayers: '{0} joueurs',
    nVirus: '{0} virus',
    fanaticWonWith: '{0} etait le FANATIQUE ! Il a reussi a se faire eliminer et remporte la partie avec l\'ESPION !',
    wasEliminated: '{0} a ete elimine !',
    inviteToJoin: '{0} t\'invite a rejoindre sa partie !',
    noFriendsYet: 'Aucun ami pour le moment.<br>Ajoute des joueurs avec leur pseudo !',
    noFriendsOnline: 'Aucun ami en ligne.',
    noFriendsOffline: 'Aucun ami hors ligne.',
    langLabel: 'LANGUE',
    locker: 'CASIER',
    changeSkin: 'Changer de skin',
    totalPlayers: 'Total :',
    players: 'joueurs',
    innocentsLabel: 'Innocents :',
    virusLabel: 'Virus :',
    journalistLabel: 'Journaliste :',
    fanaticLabel: 'Fanatique :',
    spyLabel: 'Espion :',
    fanaticRole: 'FANATIQUE',
    spyRole: 'ESPION',
    musicTab: 'MUSIQUE',
    chooseMusic: 'Choisis ta musique !',
    hudControls: 'ZQSD ou Fleches pour se deplacer',
    noGamesAvailable: '0 partie disponible',
    gamesAvailable: '{0} partie{1} disponible{2}',
    need10For3VirusTip: 'Il faut au moins 10 joueurs pour 3 virus',
    need7For2VirusTip: 'Il faut au moins 7 joueurs pour 2 virus',
    youChoseVirus: 'Tu as choisi <b>{0}</b> virus',
    playerRoles: 'ROLES DES JOUEURS :',
    youLabel: '(toi)',
    botAccusation: [
      'Je suis sur que c\'est {c} le virus !',
      '{c} etait bizarre tout a l\'heure...',
      'J\'ai vu {c} trainer pres du cadavre',
      'Moi je vote {c}, il est trop suspect',
      '{c} m\'a suivi pendant un moment, c\'est louche',
      'Quelqu\'un d\'autre a vu {c} agir bizarrement ?',
      '{c} etait tout seul dans le couloir...',
      'Je parie que c\'est {c} le virus',
      'peut-etre que c\'est {c}',
      'Peut-etre que c\'est {c} le fanatique...',
      'Peut-etre que c\'est {c} l\'espion ...'
    ],
    botDefense: [
      'C\'est pas moi je le jure !',
      'J\'etais en train de faire mes missions',
      'Je suis innocent, j\'ai rien fait',
      'Arretez de m\'accuser svp',
      'J\'etais a l\'autre bout de la map',
      'Vous pouvez me faire confiance',
      'Pourquoi moi ? J\'ai rien fait de suspect',
      'je suis inocent je vous le jure !'
    ],
    botReaction: [
      'Hmm c\'est suspect ca...',
      'Je ne sais pas trop...',
      'On devrait skip si on est pas sur',
      'Quelqu\'un a des preuves ?',
      'Moi j\'ai rien vu de special',
      'C\'est tendu la...',
      'Faut pas se tromper de vote',
      'Qui a decouvert le corps ?',
      'On vote ou on skip ?',
      'J\'ai fait toutes mes missions moi',
      'Je pense pas.',
      'Je suis d\'accord.',
      'Moi je dis qu\'on devrait skip',
      'Pas assez de preuves pour voter quelqu\'un',
      'C\'est peut-etre un self-report non ?',
      'Faut pas voter au hasard les gars',
      'Je pense que c\'est quelqu\'un d\'autre...',
      'wsh',
      'Peut-etre',
      'vous n\'avez pas assez preuve pour me convaincre',
      'euh...'
    ],
    botVirus: [
      'Moi je dis qu\'on devrait skip',
      'Pas assez de preuves pour voter quelqu\'un',
      'C\'est peut-etre un self-report non ?',
      'Faut pas voter au hasard les gars',
      'Je pense que c\'est quelqu\'un d\'autre...',
      'et c\'etait le fanatique ?'
    ],
    botJournalist: [
      'J\'ai enquete sur {c}, je vous dis pas le resultat...',
      'Mon enquete montre que {c} est clean',
      'Faites-moi confiance, j\'ai des infos',
      'J\'ai verifie quelqu\'un, c\'est pas lui le virus',
      'D\'apres mon enquete, il faut voter {c}',
      'Je suis journaliste, je sais de quoi je parle',
      'J\'ai des preuves contre {c} !',
      'Mon enquete innocente {c}, cherchez ailleurs'
    ],
    botFanatic: [
      'Votez moi si vous voulez, je m\'en fiche',
      'Allez-y, eliminez-moi, ca me derange pas',
      'Moi je suis suspect ? Tant mieux !',
      'Je suis clairement louche, votez moi',
      'Honnetement, je suis le plus suspect ici',
      'C\'est moi le coupable, votez !',
      'J\'avoue j\'ai un comportement bizarre',
      'J\'ai traine pres du cadavre !'
    ],
    botSpy: [
      'Je reste discret, j\'observe tout le monde...',
      'J\'ai des infos mais je prefere les garder pour moi',
      'Faites attention, rien n\'est ce qu\'il parait ici',
      'Je suis dans mon propre camp, ne vous fiez pas a moi',
      'J\'ai choisi mon camp et je m\'y tiens',
      'Je sais des choses que vous ignorez...',
      'Mon role est plus complexe que vous ne le pensez',
      'Je ne suis ni avec vous, ni contre vous',
      '{c} cache quelque chose, j\'en suis certain',
      'Je joue mon propre jeu, ne m\'incluez pas dans vos plans'
    ],
    botComment: [
      'wsh wsh canne a peche.',
      'aller votez !',
      'je vais faire mes taches apres',
      'voter avec moi !',
      'courage les amis',
      'Ne vous trompez pas',
      'Lets go !'
    ],
    botResponse: [
      'Ouais t\'as raison...', 'Je suis pas d\'accord', 'Hmm possible...',
      'Carrement !', 'Tu dis ca mais t\'as fait quoi toi ?', 'Ok ok...',
      'C\'est vrai ca !', 'N\'importe quoi...', 'Mouais bof',
      'Exactement ce que je pensais', 'Ah bon ? T\'es sur ?'
    ],
    botGhostChat: [
      'Je sais qui c\'est...', 'Si seulement je pouvais parler aux vivants...',
      'C\'est lui le virus !!', 'RIP moi...', 'Je vous observe...',
      'Votez pour lui !!!', 'Personne m\'entend...', 'La verite va eclater...',
      'J\'aurais du me mefier...', 'C\'est injuste...', 'Fantome life...',
      'Ils se trompent de cible...', 'Non non non pas lui !',
      'c\'est ca la mort ?'
    ],
    // Mini-jeux
    mjDone: 'TERMINE !',
    mjSwapBooks: 'Cliquez 2 livres pour les echanger',
    mjMemorize: 'Memorisez le numero de suivi...',
    mjEnterCode: 'Entrez le numero de suivi',
    mjWrongCode: 'Incorrect ! On vous le remontre...',
    mjEnterNum: 'Entrez le numero',
    mjFindCamera: 'Trouvez la camera avec alerte ! ({0}/{1})',
    mjPlaceProduct: 'Placez chaque produit sur le bon rayon',
    mjGears: 'Tournez les engrenages pour qu\'ils s\'enchainent',
    mjFixLeaks: 'Cliquez sur les fuites pour les reparer ! ({0}/{1})',
    mjAlternate: 'Alternez \u2B06 et \u2B07 ! ({0}/{1})',
    mjUp: '\u2B06 HAUT',
    mjDown: '\u2B07 BAS',
    mjCleanSpots: 'Cliquez sur les taches pour nettoyer ! ({0}/{1})',
    mjFindPairs: 'Trouvez les 3 paires de parfums !',
    mjPourRelease: 'Maintenez pour verser, relachez dans la zone verte !',
    mjPour: '\u2615 VERSER',
    mjPerfect: 'Parfait !',
    mjTooMuch: 'Trop plein ! Recommencez...',
    mjFocus: 'Appuyez sur FOCUS quand l\'image est nette ! ({0}/{1})',
    mjFocusBtn: '\uD83C\uDFA5 FOCUS',
    mjClearPlates: 'Debarrassez les assiettes ! ({0}/{1})',
    mjSortPills: 'Triez chaque pilule dans le bon bac',
    mjHangClothes: 'Rangez chaque vetement sur le bon cintre',
    mjDownloading: 'Telechargement en cours...',
    mjResumeBtn: '\u25B6 REPRENDRE',
    mjDownloadError: '\u26A0 Erreur ! Cliquez REPRENDRE ({0}/{1})',
    mjFeedAnimal: 'Donnez la bonne nourriture a chaque animal',
    mjStopThermo: 'Arretez le thermometre entre 170\u00B0C et 190\u00B0C',
    mjStopBtn: '\uD83C\uDF21\uFE0F ARRETER',
    mjTempPerfect: 'Temperature parfaite !',
    mjTooCold: 'Trop froid !',
    mjTooHot: 'Trop chaud !',
    mjRetry: ' Reessayez...',
    mjWaterPlants: 'Maintenez pour arroser chaque plante dans la zone verte',
    mjNotEnough: 'Pas assez !',
    mjTooMuchWater: 'Trop d\'eau !',
    mjRetryPlant: ' Recommencez cette plante',
    mjTeaOrder: 'Cliquez les etapes dans le bon ordre',
    mjTeaOrderHint: 'Ordre : 1\u2192 Bouillir  2\u2192 The  3\u2192 Infuser  4\u2192 Servir',
    mjWrongOrder: 'Mauvais ordre ! Recommencez l\'etape {0}',
    mjAlignBoth: 'Appuyez quand les DEUX aiguilles sont dans le vert',
    mjValidateBtn: '\uD83D\uDC41\uFE0F VALIDER',
    mjBothGreen: 'Les deux doivent etre dans le vert !',
    mjFixPins: 'Relevez les quilles tombees ! ({0}/{1})',
    mjInflate: 'Maintenez pour gonfler, relachez avant que ca eclate ! ({0}/{1})',
    mjInflateBtn: '\uD83C\uDF88 GONFLER',
    mjPopped: 'Eclate ! Recommencez...',
    mjKeepInflating: 'Maintenez pour gonfler ! ({0}/{1})',
    mjNotInflated: 'Pas assez gonfle ! Continuez...',
    mjHangerRed: 'Rouge',
    mjHangerBlue: 'Bleu',
    mjHangerGreen: 'Vert',
    mjHangerOrange: 'Orange',
    mjConnError: 'Erreur de connexion',
    mjPartyNotFound: 'Partie introuvable',
    mjHostOnly: 'Seul le host peut demarrer'
  },

  en: {
    // UI Buttons
    back: '\u25C4 BACK',
    settings: 'SETTINGS',
    confirm: 'CONFIRM',
    cancel: 'CANCEL',
    save: 'SAVE',
    quit: 'QUIT',
    play: 'LET\'S GO!',
    launch: 'START GAME',
    create: 'CREATE GAME',
    join: 'JOIN',
    refresh: 'REFRESH',
    equip: 'EQUIP',
    equipped: 'EQUIPPED',
    buy: 'BUY',
    skinsTab: 'SKINS',
    close: 'CLOSE',
    gotIt: 'GOT IT',
    skip: 'SKIP',
    cont: 'CONTINUE',
    mainMenu: 'MAIN MENU',
    add: 'ADD',
    accept: 'ACCEPT',
    refuse: 'REFUSE',
    start: 'START',
    callMeeting: 'CALL A MEETING',
    doTask: 'DO THE TASK',
    kill: 'KILL',
    report: 'REPORT',
    investigate: 'INVESTIGATE',
    cameras: 'CAMERAS',
    confirmSkin: 'CONFIRM SKIN',
    deleteAccount: 'DELETE MY ACCOUNT',

    // Titles / Labels
    createAccount: 'CREATE YOUR ACCOUNT',
    chooseNickname: 'Choose a nickname to play',
    account: 'ACCOUNT',
    pseudo: 'NICKNAME',
    skin: 'SKIN',
    shop: 'SHOP',
    rules: 'GAME RULES',
    online: 'ONLINE',
    offline: 'OFFLINE',
    offlineLabel: 'Offline',
    onlineLabel: 'Online',
    requestsLabel: 'Requests',
    config: 'CONFIGURATION',
    gameSettings: 'GAME SETTINGS',
    missions: 'MISSIONS',
    emergencyMeeting: 'EMERGENCY MEETING',
    fittingRoom: 'FITTING ROOM',
    friends: 'FRIENDS',
    playersHeader: 'PLAYERS',
    chat: 'CHAT',
    waitingRoom: 'WAITING ROOM',
    newGame: 'NEW GAME',
    waitingGames: 'WAITING GAMES',
    skinsAndAccs: 'SKINS & ACCESSORIES',
    changeSkinTitle: 'CHANGE YOUR SKIN',
    chooseSkin: 'Choose your skin!',
    gameName: 'GAME NAME',
    maxPlayers: 'MAX PLAYERS',
    nbVillains: 'NUMBER OF VILLAINS (VIRUSES)',
    nbPlayers: 'NUMBER OF PLAYERS',
    nbVirus: 'NUMBER OF VIRUSES',
    journalist: 'JOURNALIST',
    fanaticNeutral: 'FANATIC (NEUTRAL)',
    spyNeutral: 'SPY (NEUTRAL)',
    joinOrCreate: 'Join or create a game',
    playWithBots: 'Play with bots',
    skinsAccs: 'Skins and accessories',
    inviteFriends: 'Invite your friends to join',
    or: 'OR',
    joinExisting: 'Join an existing game',
    createDesc: 'Create your own game and invite your friends, or join an existing game.',
    createGame: 'CREATE A GAME',
    findGame: 'FIND A GAME',
    waiting: 'Waiting...',
    hostOnly: '(Host only)',
    waitingForHost: 'Waiting for host to start...',
    savedAuto: 'Changes are saved automatically.<br>VIRUS v0.1 - ALPHA',
    noGamesWaiting: 'No games waiting right now. Create one from the online menu!',
    game: 'GAME',
    villains: 'VILLAINS',
    noPendingRequests: 'No pending requests.',
    securityCams: 'SECURITY CAMERAS',

    // Roles
    roleVirus: 'VIRUS',
    roleInnocent: 'INNOCENT',
    roleJournalist: 'JOURNALIST',
    roleFanatic: 'FANATIC',
    roleSpy: 'SPY',
    oneJournalist: '1 JOURNALIST',
    zeroJournalist: '0 JOURNALIST',
    oneFanatic: '1 FANATIC',
    zeroFanatic: '0 FANATIC',
    oneSpy: '1 SPY',
    zeroSpy: '0 SPY',

    // Notifications
    pseudoTaken: 'This nickname is already taken! Choose another one.',
    pseudoTakenKeep: 'This nickname is already taken! Your nickname remains: {0}',
    need7For2Virus: 'You need at least 7 players to have 2 viruses!',
    need10For3Virus: 'You need at least 10 players to have 3 viruses!',
    joinedVirus: 'You joined the VIRUS team! You can see the viruses.',
    joinedInnocent: 'You joined the INNOCENTS team! Complete your missions.',
    notEnoughJournalist: 'You need at least 7 players to add a journalist!',
    notEnoughFanatic: 'You need at least 7 players to add a fanatic!',
    notEnoughSpy: 'You need at least 7 players to add a spy!',
    'notif.musicPurchased': 'Music "{0}" purchased!',
    youAreVirusAllies: 'You are VIRUS! Your allies: {0}',
    youAreOnlyVirus: 'You are the only VIRUS! Infect everyone without getting caught.',
    youAreJournalist: 'You are the JOURNALIST! You have {0} investigation(s) available.',
    youAreFanatic: 'You are the FANATIC! If you get eliminated, the game ends and you win!',
    youAreSpy: 'You are the SPY! Choose your side...',
    youAreInnocent: 'You are INNOCENT. Complete your missions and survive!',
    need4Players: 'You need at least 4 players to start a game!',
    gameAlreadyStarted: 'This game has already started!',
    gameFull: 'FULL',
    partyDeleted: 'The game has been deleted!',
    playerJoined: '{0} joined the game',
    playerLeft: '{0} left the game',
    newHost: '{0} is the new host',
    joinBtn: 'JOIN',
    virusAdjusted: 'Number of viruses adjusted to {0} (not enough players for {1})',
    youAreTheVirus: 'You are the VIRUS! Infect everyone without getting caught.',
    ghostsCantMeet: 'Ghosts cannot call a meeting!',
    waitBeforeMeeting: 'You must wait before calling another meeting!',
    emergencyMeetingNotif: 'Emergency meeting!',
    useInfoWisely: 'Use this information wisely!',
    ghostsCantVote: 'Ghosts cannot vote!',
    wasTheFanatic: '{0} was the FANATIC! The game is over!',
    youEliminatedFanatic: 'You were eliminated as FANATIC! You won!',
    playerIs: '{0} is {1}!',
    allInvestigationsUsed: 'You used all your investigations!',
    youInfected: 'You infected {0}...',
    playerDied: '{0} is dead!',
    bodyReported: 'Body of {0} reported! Emergency meeting!',
    virusInfectedYou: 'A virus infected you! You will die in 5 seconds...',
    diedAsFanatic: 'You died as FANATIC! You won!',
    youDiedGhost: 'You died! You are now a ghost.',
    foundBodyOf: '{0} found the body of {1}!',
    ghostsCantTalk: 'Ghosts cannot speak!',
    ghostTag: 'GHOST',
    missionDone: 'Mission accomplished: {0}',
    allMissionsComplete: 'All missions are complete!',
    youFinishedMissions: 'You finished all your missions!',
    enterPseudo: 'Enter a nickname!',
    connecting: 'Connecting...',
    cantAddSelf: 'You cannot add yourself!',
    alreadyFriend: 'Already in your friends list!',
    pseudoNotFound: 'Nothing found! This nickname does not exist.',
    requestAlreadySent: 'Request already sent!',
    requestSentTo: 'Request sent to {0}!',
    connectionError: 'Connection error',
    nowYourFriend: '{0} is now your friend!',
    requestRefused: 'Request refused.',
    friendRequestFrom: 'Friend request from {0}',
    mustBeInGame: 'You must be in a game to invite!',
    inviteSentTo: 'Invitation sent to {0}!',

    // Meeting
    meetDead: 'Dead: {0}',
    meetYouAreGhost: 'You are a ghost. You cannot vote.',
    meetEmergency: 'Emergency meeting! Click on a player to vote or SKIP.',
    meetVoted: 'voted!',
    meetSkipped: 'skipped their vote.',
    meetBotVoted: 'voted.',
    meetNoElim: 'No elimination. The game continues.',
    meetWasVirus: '{0} was a VIRUS!',
    meetWasJournalist: '{0} was the JOURNALIST...',
    meetWasFanatic: '{0} was the FANATIC! He won! The game is over!',
    meetWasSpy: '{0} was the SPY!',
    meetWasInnocent: '{0} was an INNOCENT...',
    meetNobodyElim: 'Nobody was eliminated.',
    meetWasVirusRole: 'It was a VIRUS!',
    meetWasJournalistRole: 'It was the JOURNALIST...',
    meetWasFanaticRole: 'It was the FANATIC!',
    meetWasSpyRole: 'It was the SPY!',
    meetWasInnocentRole: 'It was an INNOCENT...',

    // Victory
    virusVictory: 'VIRUS VICTORY',
    virusVictoryDesc: 'The viruses took control of the mall! There are as many viruses as survivors...',
    fanaticVictory: 'FANATIC VICTORY',
    innocentsVictory: 'INNOCENTS VICTORY',
    missionsVictoryDesc: 'All missions have been completed! The innocents and journalists saved the mall!',
    virusEliminatedDesc: 'All viruses have been eliminated! The mall is saved!',
    missionsLabel: 'MISSIONS: {0}/{1} ({2}%)',
    youWin: 'VICTORY!',
    youLose: 'DEFEAT...',
    total: 'Total: {0} players',
    innocentsCount: 'Innocents: {0}',
    virusCount: 'Viruses: {0}',
    journalistCount: 'Journalist: {0}',
    fanaticCount: 'Fanatic: {0}',
    spyCount: 'Spy: {0}',

    // Spy
    spyChooseTitle: 'YOU ARE THE SPY',
    spyChooseDesc: 'Choose your side! You will win with the side you choose.',
    spyBtnInnocent: 'INNOCENT',
    spyBtnVirus: 'VIRUS',

    // Validation / Alert
    vChoosePseudo: 'Choose a nickname!',
    vPseudoTooShort: 'Nickname too short (2 characters minimum)!',
    vPseudoEmpty: 'Nickname cannot be empty!',
    vPseudoShort: 'Nickname too short!',
    vDeleteAccount: 'Delete your account? Your nickname, games, gold and skins will be erased.',
    vGiveGameName: 'Give your game a name!',

    // Placeholders
    phPseudo: 'Enter your nickname...',
    phNewPseudo: 'New nickname...',
    phGameName: 'Ex: My awesome game',
    phChat: 'Type here...',
    phChatReunion: 'Chat here...',
    phFriendSearch: 'Player nickname...',

    // Mall shops
    shopFashion: 'FASHION STORE',
    shopPharmacy: 'PHARMACY',
    shopBookstore: 'BOOKSTORE',
    shopGym: 'GYM',
    shopJewelry: 'JEWELRY STORE',
    shopTech: 'TECH & ELECTRONICS',
    shopCinema: 'MULTIPLEX CINEMA',
    shopRestaurant: 'RESTAURANT',
    shopSupermarket: 'GIANT SUPERMARKET',
    shopVideoGames: 'VIDEO GAME STORE',
    shopGarden: 'GARDEN CENTER',
    shopFurniture: 'FURNITURE & DECOR',
    shopSportGoods: 'SPORTING GOODS',
    shopPerfume: 'PERFUME SHOP',
    shopTravel: 'TRAVEL AGENCY',
    shopSecurity: 'SECURITY POST',
    shopCafe: 'CENTER CAFE',
    shopNewsstand: 'NEWSSTAND',
    shopOptician: 'OPTICIAN',
    shopArcade: 'ARCADE ROOM',
    shopBowling: 'BOWLING',
    shopPetStore: 'PET STORE',
    shopPastry: 'PASTRY SHOP',
    shopOrganic: 'ORGANIC & NATURE',
    shopTea: 'TEA ROOM',
    shopFoodCourt: 'FOOD COURT',
    shopToiletSouth: 'SOUTH RESTROOMS',
    shopToiletSE: 'SOUTHEAST RESTROOMS',
    shopToiletNorth: 'NORTH RESTROOMS',

    // Mall
    mainEntranceSouth: 'MAIN SOUTH ENTRANCE',
    entranceNorth: 'NORTH ENTRANCE',
    exitWest: 'WEST EXIT',
    exitEast: 'EAST EXIT',
    parkingA: 'PARKING A',
    parkingB: 'PARKING B',
    centralFountain: 'CENTRAL FOUNTAIN',
    entrance: 'ENTRANCE',
    drinks: 'DRINKS',

    // Rules
    rule1Title: 'The Virus Spreads',
    rule1Desc: 'A player is infected and must contaminate others in the mall.',
    rule2Title: 'Complete the Missions',
    rule2Desc: 'The healthy must complete their tasks in the shops to win.',
    rule3Title: 'Vote to Eliminate',
    rule3Desc: 'Report suspects! Vote together to unmask the virus.',
    rule4Title: 'Survive or Infect',
    rule4Desc: 'Healthy: finish the missions or find the virus. Virus: infect everyone!',
    rule5Title: 'Become a Ghost',
    rule5Desc: 'If you are infected, after 5 seconds you become an invisible ghost.',
    rule6Title: 'The Journalist Investigates',
    rule6Desc: 'The journalist can investigate players to find out if they are viruses or not.',
    rule7Title: 'The Fanatic (neutral)',
    rule7Desc: 'His goal: get eliminated! If he dies, the game ends and he wins with the spy.',
    rule8Title: 'The Spy (neutral)',
    rule8Desc: 'He chooses a side at the start. If he chooses virus, he sees them but cannot be killed by them. He wins with his side. If the fanatic wins, the spy also wins!',

    // Misc
    inProgress: 'IN PROGRESS...',
    system: 'SYSTEM',
    player: 'Player',
    noGame: '0 game available',
    nPlayers: '{0} players',
    nVirus: '{0} viruses',
    fanaticWonWith: '{0} was the FANATIC! He got eliminated and wins the game with the SPY!',
    wasEliminated: '{0} was eliminated!',
    inviteToJoin: '{0} invites you to join their game!',
    noFriendsYet: 'No friends yet.<br>Add players with their nickname!',
    noFriendsOnline: 'No friends online.',
    noFriendsOffline: 'No friends offline.',
    langLabel: 'LANGUAGE',
    locker: 'LOCKERS',
    changeSkin: 'Change your skin',
    totalPlayers: 'Total:',
    players: 'players',
    innocentsLabel: 'Innocents:',
    virusLabel: 'Virus:',
    journalistLabel: 'Journalist:',
    fanaticLabel: 'Fanatic:',
    spyLabel: 'Spy:',
    fanaticRole: 'FANATIC',
    spyRole: 'SPY',
    musicTab: 'MUSIC',
    chooseMusic: 'Choose your music!',
    hudControls: 'WASD or Arrows to move',
    noGamesAvailable: '0 games available',
    gamesAvailable: '{0} game{1} available',
    need10For3VirusTip: 'You need at least 10 players for 3 viruses',
    need7For2VirusTip: 'You need at least 7 players for 2 viruses',
    youChoseVirus: 'You chose <b>{0}</b> virus(es)',
    playerRoles: 'PLAYER ROLES:',
    youLabel: '(you)',
    botAccusation: [
      'I\'m sure {c} is the virus!',
      '{c} was acting weird earlier...',
      'I saw {c} hanging around the body',
      'I\'m voting {c}, way too suspicious',
      '{c} followed me for a while, that\'s shady',
      'Did anyone else see {c} acting strange?',
      '{c} was all alone in the hallway...',
      'I bet {c} is the virus',
      'maybe it\'s {c}',
      'Maybe {c} is the fanatic...',
      'Maybe {c} is the spy...'
    ],
    botDefense: [
      'It wasn\'t me I swear!',
      'I was doing my missions',
      'I\'m innocent, I did nothing',
      'Stop accusing me please',
      'I was on the other side of the map',
      'You can trust me',
      'Why me? I did nothing suspicious',
      'I\'m innocent I swear!'
    ],
    botReaction: [
      'Hmm that\'s suspicious...',
      'I\'m not really sure...',
      'We should skip if we\'re not sure',
      'Anyone got proof?',
      'I didn\'t see anything special',
      'This is tense...',
      'We can\'t afford to vote wrong',
      'Who found the body?',
      'Do we vote or skip?',
      'I\'ve done all my missions',
      'I don\'t think so.',
      'I agree.',
      'I say we should skip',
      'Not enough proof to vote anyone',
      'Maybe it\'s a self-report?',
      'Don\'t vote randomly guys',
      'I think it\'s someone else...',
      'bruh',
      'Maybe',
      'you don\'t have enough proof to convince me',
      'uhh...'
    ],
    botVirus: [
      'I say we should skip',
      'Not enough proof to vote anyone',
      'Maybe it\'s a self-report?',
      'Don\'t vote randomly guys',
      'I think it\'s someone else...',
      'was it the fanatic?'
    ],
    botJournalist: [
      'I investigated {c}, not gonna tell you the result...',
      'My investigation shows {c} is clean',
      'Trust me, I have intel',
      'I checked someone, they\'re not the virus',
      'Based on my investigation, we should vote {c}',
      'I\'m the journalist, I know what I\'m talking about',
      'I have proof against {c}!',
      'My investigation clears {c}, look elsewhere'
    ],
    botFanatic: [
      'Vote me if you want, I don\'t care',
      'Go ahead, eliminate me, doesn\'t bother me',
      'I\'m suspicious? Great!',
      'I\'m clearly sketchy, vote me',
      'Honestly, I\'m the most suspicious here',
      'I\'m the guilty one, vote!',
      'I admit I\'ve been acting weird',
      'I was hanging near the body!'
    ],
    botSpy: [
      'I\'m staying low, watching everyone...',
      'I have info but I\'d rather keep it to myself',
      'Be careful, nothing is what it seems here',
      'I\'m on my own side, don\'t trust me',
      'I chose my side and I\'m sticking to it',
      'I know things you don\'t...',
      'My role is more complex than you think',
      'I\'m neither with you nor against you',
      '{c} is hiding something, I\'m certain',
      'I\'m playing my own game, don\'t include me in your plans'
    ],
    botComment: [
      'let\'s goo!',
      'come on vote!',
      'I\'ll do my tasks after',
      'vote with me!',
      'come on guys',
      'Don\'t mess up',
      'Lets go!'
    ],
    botResponse: [
      'Yeah you\'re right...', 'I disagree', 'Hmm maybe...',
      'Totally!', 'You say that but what did YOU do?', 'Ok ok...',
      'That\'s true!', 'Nonsense...', 'Meh whatever',
      'Exactly what I was thinking', 'Really? You sure?'
    ],
    botGhostChat: [
      'I know who it is...', 'If only I could talk to the living...',
      'It\'s him the virus!!', 'RIP me...', 'I\'m watching you all...',
      'Vote for him!!!', 'Nobody can hear me...', 'The truth will come out...',
      'I should have been more careful...', 'This is unfair...', 'Ghost life...',
      'They\'re targeting the wrong one...', 'No no no not him!',
      'Is this what death is?'
    ],
    // Mini-games
    mjDone: 'DONE!',
    mjSwapBooks: 'Click 2 books to swap them',
    mjMemorize: 'Memorize the tracking number...',
    mjEnterCode: 'Enter the tracking number',
    mjWrongCode: 'Wrong! Showing it again...',
    mjEnterNum: 'Enter the number',
    mjFindCamera: 'Find the alert camera! ({0}/{1})',
    mjPlaceProduct: 'Place each product on the right shelf',
    mjGears: 'Turn the gears to make them interlock',
    mjFixLeaks: 'Click on leaks to fix them! ({0}/{1})',
    mjAlternate: 'Alternate \u2B06 and \u2B07! ({0}/{1})',
    mjUp: '\u2B06 UP',
    mjDown: '\u2B07 DOWN',
    mjCleanSpots: 'Click on spots to clean! ({0}/{1})',
    mjFindPairs: 'Find the 3 perfume pairs!',
    mjPourRelease: 'Hold to pour, release in the green zone!',
    mjPour: '\u2615 POUR',
    mjPerfect: 'Perfect!',
    mjTooMuch: 'Too full! Try again...',
    mjFocus: 'Press FOCUS when the image is sharp! ({0}/{1})',
    mjFocusBtn: '\uD83C\uDFA5 FOCUS',
    mjClearPlates: 'Clear the plates! ({0}/{1})',
    mjSortPills: 'Sort each pill into the right bin',
    mjHangClothes: 'Hang each piece on the right hanger',
    mjDownloading: 'Downloading...',
    mjResumeBtn: '\u25B6 RESUME',
    mjDownloadError: '\u26A0 Error! Click RESUME ({0}/{1})',
    mjFeedAnimal: 'Give the right food to each animal',
    mjStopThermo: 'Stop the thermometer between 170\u00B0C and 190\u00B0C',
    mjStopBtn: '\uD83C\uDF21\uFE0F STOP',
    mjTempPerfect: 'Perfect temperature!',
    mjTooCold: 'Too cold!',
    mjTooHot: 'Too hot!',
    mjRetry: ' Try again...',
    mjWaterPlants: 'Hold to water each plant in the green zone',
    mjNotEnough: 'Not enough!',
    mjTooMuchWater: 'Too much water!',
    mjRetryPlant: ' Try this plant again',
    mjTeaOrder: 'Click the steps in the right order',
    mjTeaOrderHint: 'Order: 1\u2192 Boil  2\u2192 Tea  3\u2192 Steep  4\u2192 Serve',
    mjWrongOrder: 'Wrong order! Redo step {0}',
    mjAlignBoth: 'Press when BOTH needles are in the green',
    mjValidateBtn: '\uD83D\uDC41\uFE0F VALIDATE',
    mjBothGreen: 'Both must be in the green!',
    mjFixPins: 'Stand up the fallen pins! ({0}/{1})',
    mjInflate: 'Hold to inflate, release before it pops! ({0}/{1})',
    mjInflateBtn: '\uD83C\uDF88 INFLATE',
    mjPopped: 'Popped! Try again...',
    mjKeepInflating: 'Hold to inflate! ({0}/{1})',
    mjNotInflated: 'Not inflated enough! Keep going...',
    mjHangerRed: 'Red',
    mjHangerBlue: 'Blue',
    mjHangerGreen: 'Green',
    mjHangerOrange: 'Orange',
    mjConnError: 'Connection error',
    mjPartyNotFound: 'Game not found',
    mjHostOnly: 'Only the host can start'
  }
};

function t(key) {
  var val = TR[currentLang] && TR[currentLang][key];
  if (val === undefined || val === null) val = TR['fr'][key] || key;
  // Si c'est un tableau, le retourner directement
  if (Array.isArray(val)) return val;
  // Remplacer {0}, {1}, etc.
  for (var i = 1; i < arguments.length; i++) {
    val = val.replace('{' + (i - 1) + '}', arguments[i]);
  }
  return val;
}

function setLanguage(lang) {
  currentLang = lang;
  localStorage.setItem('virus_lang', lang);
  document.querySelectorAll('.lang-btn').forEach(function(b) { b.classList.remove('active'); });
  ['lang-', 'compte-lang-', 'cp-lang-'].forEach(function(prefix) {
    var btn = document.getElementById(prefix + lang);
    if (btn) btn.classList.add('active');
  });
  translatePage();
}

function translatePage() {
  // Traduire les elements avec data-i18n
  var els = document.querySelectorAll('[data-i18n]');
  for (var i = 0; i < els.length; i++) {
    var key = els[i].getAttribute('data-i18n');
    var attr = els[i].getAttribute('data-i18n-attr');
    if (attr === 'placeholder') {
      els[i].placeholder = t(key);
    } else if (els[i].hasAttribute('data-i18n-html')) {
      els[i].innerHTML = t(key);
    } else {
      els[i].textContent = t(key);
    }
  }
}

// Initialiser la langue au chargement
(function() {
  document.querySelectorAll('.lang-btn').forEach(function(b) { b.classList.remove('active'); });
  ['lang-', 'compte-lang-', 'cp-lang-'].forEach(function(prefix) {
    var btn = document.getElementById(prefix + currentLang);
    if (btn) btn.classList.add('active');
  });
  translatePage();
})();
